{% extends "base.html" %}

{% block title %}Chat - Yuzu Companion{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/chat.css') }}">
{% endblock %}

{% block content %}
<div class="chat-layout">
    <div class="chat-header">
        <h1>{{ profile.partner_name }}</h1>
        <div>Affection: {{ profile.affection }}%</div>
    </div>

    <div class="chat-container" id="chatContainer">
        <!-- Messages will be inserted here -->
    </div>

    <div id="typingIndicator" class="typing-indicator hidden">
        <span></span>
        <span></span>
        <span></span>
    </div>

    <div class="input-area">
        <textarea id="messageInput" placeholder="Type your message (Ctrl+Enter to send)..." rows="1"></textarea>
        <button id="sendButton">Send</button>
    </div>

    <button id="scrollToBottom" class="hidden">â†“</button>
</div>
{% endblock %}

{% block scripts %}
<!-- markdown-it library (required by project rules) -->
<script src="https://unpkg.com/markdown-it@14/dist/markdown-it.min.js"></script>
<script src="{{ url_for('static', filename='js/renderer.js') }}"></script>
<script src="{{ url_for('static', filename='js/chat.js') }}"></script>
{% endblock %}
