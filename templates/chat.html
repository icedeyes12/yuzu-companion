{% extends "base.html" %}

{% block title %}Chat - Yuzu Companion{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/chat.css') }}">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css">
{% endblock %}

{% block content %}
<div class="chat-layout">
    <div class="chat-header">
        <h1>{{ profile.partner_name }}</h1>
        <div>Affection: {{ profile.affection }}%</div>
    </div>

    <div id="chatContainer">
        <!-- Messages will be inserted here -->
    </div>

    <div id="typingIndicator" class="typing-indicator hidden">
        <span></span>
        <span></span>
        <span></span>
    </div>

    <div class="input-area">
        <textarea id="messageInput" placeholder="Type your message..." rows="1"></textarea>
        <button id="sendButton">Send</button>
    </div>

    <button id="scrollToBottom" class="hidden">â†“</button>
</div>
{% endblock %}

{% block scripts %}
<!-- Markdown-it -->
<script src="https://unpkg.com/markdown-it/dist/markdown-it.min.js"></script>
<!-- Highlight.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<!-- Our scripts -->
<script src="{{ url_for('static', filename='js/renderer.js') }}"></script>
<script src="{{ url_for('static', filename='js/app.js') }}"></script>
<script src="{{ url_for('static', filename='js/chat.js') }}"></script>
{% endblock %}
