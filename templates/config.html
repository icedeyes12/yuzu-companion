{% extends "base.html" %}

{% block title %}Config - Yuzu Companion{% endblock %}

{% block content %}
<div class="container main-content">
    <h1>Configuration</h1>

    <div class="card">
        <h2>Profile Settings</h2>
        <form id="profileForm">
            <label for="display-name">Your Display Name:</label>
            <input type="text" id="display-name" value="{{ profile.display_name }}">

            <label for="partner-name">Partner Name:</label>
            <input type="text" id="partner-name" value="{{ profile.partner_name }}">

            <label for="affection-level">Affection Level: <span id="affection-value">{{ profile.affection }}</span></label>
            <input type="range" id="affection-level" min="0" max="100" value="{{ profile.affection }}">

            <button type="button" id="save-profile">Save Profile Settings</button>
        </form>
    </div>

    <div class="card">
        <h2>AI Provider Settings</h2>
        <form id="providerForm">
            <label for="ai-provider">Preferred AI Provider:</label>
            <select id="ai-provider">
                <option value="">Loading providers...</option>
            </select>

            <label for="ai-model">Preferred Model:</label>
            <select id="ai-model">
                <option value="">Select provider first...</option>
            </select>

            <div id="provider-status">
                <p><strong>Current:</strong> <span id="current-provider">Loading...</span></p>
                <p><strong>Status:</strong> <span id="connection-status">Checking...</span></p>
            </div>

            <button type="button" id="test-provider">Test Connection</button>
            <button type="button" id="save-provider">Save Provider Settings</button>
        </form>
    </div>

    <div class="card">
        <h2>API Keys</h2>
        <form id="apiKeyForm">
            <label for="api-key-provider">Provider:</label>
            <select id="api-key-provider">
                <option value="openrouter">OpenRouter</option>
                <option value="cerebras">Cerebras</option>
                <option value="chutes">Chutes</option>
            </select>

            <label for="api-key">API Key:</label>
            <input type="text" id="api-key" placeholder="Enter your API key">

            <button type="button" id="add-api-key">Add API Key</button>
        </form>

        <h3>Stored API Keys:</h3>
        <ul id="keys-list">
            <li>Loading...</li>
        </ul>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/app.js') }}"></script>
<script src="{{ url_for('static', filename='js/config.js') }}"></script>
{% endblock %}
